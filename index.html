<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">















  <link rel="alternate" href="/atom.xml" title="小步走路">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.5.0" />



<link rel="canonical" href="http://yoursite.com/"/>


<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.5.0" />






  



  <script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>



    <title> 小步走路 </title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">小步走路</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/">
        <li class="mobile-menu-item">
          
          
            Home
          
        </li>
      </a>
    
      <a href="/archives/">
        <li class="mobile-menu-item">
          
          
            Archives
          
        </li>
      </a>
    
      <a href="/about">
        <li class="mobile-menu-item">
          
          
            About
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">小步走路</a>
</div>

<div class="description">
  <p>有人住高楼，有人在深沟，有人光万丈，有人一身锈。世人万千种，浮云莫去求，斯人若彩虹，遇见方知有。</p>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/">
            
            
              首页
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            
            
              归档
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/about">
            
            
              关于
            
          </a>
        </li>
      
    </ul>
  
</nav>

      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  <section id="posts" class="posts">
    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2017/08/16/export/">16. 用Go重写商家结余表导数脚本</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Posted by zhgxun 2017-08-16
        </span>
        
          <div class="post-category">
            
              <a href="/categories/go/">go</a>
            
          </div>
        
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        
          
        

        
          <p>前段时间在导出商家结余表时，发现有些大商家数据比较多，而一直使用的PHP导数脚本是同步脚本，未改为多进程导数，导出效果特别差强人意，有一些甚至等待一天才勉强收到邮件通知。刚好这段时间公司项目上没有什么新需求要做，项目处于维护期和日常工作期，鉴于Go语言的异步优势，就用Go重写了该脚本。一来将Go的学习用于实际场景编写，巩固和运用；二来也比较一下动态语言和静态语言的思维方式和执行效率。</p>
          <div class="read-more">
            <a href="/2017/08/16/export/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2017/08/06/jingbian/">15. 靖边</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Posted by zhgxun 2017-08-06
        </span>
        
          <div class="post-category">
            
              <a href="/categories/travel/">travel</a>
            
          </div>
        
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        
          
        

        
          <h2 id="1、靖边站"><a href="#1、靖边站" class="headerlink" title="1、靖边站"></a>1、靖边站</h2><p>晚上十点半时，小宝打电话来，问我到哪里了？快到了，最多半小时，这边手机完全没信号，但是短信能发电话能打通，到了我找你们。然后申腾给我打电话，说到站了打这个电话，给我一个陌生的电话。我在车上，没信号，不造怎么问，就简单说好。</p>
<p>火车准时到达，这时候申腾又给我打电话，说到了……旁边太吵，没听清他的意思。我匆忙走出出站口，没注意到他们。像我家乡县城里一样，这里的出站口占满了很多拉客的人，要不要住宿，要不要坐车，去榆林吗……我一项很讨厌这些行为，但又不得不面对。我就往外走，旁边就有人跟过来，靠近我，走吗……我很干脆的说，不用，有人来接我啦。</p>
          <div class="read-more">
            <a href="/2017/08/06/jingbian/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2017/07/29/lanzhou/">14. 兰州</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Posted by zhgxun 2017-07-29
        </span>
        
          <div class="post-category">
            
              <a href="/categories/travel/">travel</a>
            
          </div>
        
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        
          
        

        
          <h2 id="1、兰州西"><a href="#1、兰州西" class="headerlink" title="1、兰州西"></a>1、兰州西</h2><p>在西宁上动车后，我刚坐下来，前面一个女的就把座位放下来，就抵到我了。我说麻烦你不要把凳子放下来好吗，这里都没有空间了。她说凳子本来就设计成这样的，这是正常的位置。我说我知道，但是你站起来看看，你这样后我这里就没法坐了。她把凳子稍微抬高一些后，我也就没再说什么了。</p>
<p>担心一会儿她又把凳子突然放下来，我就没敢把电脑放在座位后背的快捷小桌子上打字，只好放腿上了。插座在中间的位置，我把手机充上电后。插座盖就不能盖上去，数据线和手机充电头也裸露在外面，中间也占去了好大一块位置。中间那个男的就说，要不我跟你换一下位置吧，你这样我脚都没地方伸了。</p>
<p>他坐在里面，我坐在中间，外面是跟他一起的一个女同事。车刚走，这个女同事就问我，只有一个手机充电吗？是的，只能充一个。她给男的要了移动电源，说没事，她们到兰州就要坐飞机了。后来我用电脑充电，就说你充吧，我到兰州还不走，晚上就能充电了。她收好移动电源，充好电后，就慢慢的睡去了。</p>
<p>设计这个座位的初衷不知道是怎么想的。如果前后两个人都把座位放低来睡是不影响的，但是如果后面的人要坐起来，或者要用小桌子看书，吃东西的话，前面是不能把凳子放低的。问题是就跟她说的一样，人家设计成这样，这是正常的位置，我怎么放都应该没关系。可是明明前面一放低座位，后面就没法弄了。我不知道别人遇见这种情况都是怎么沟通的，但我觉得设计这个方式的人应该受到指责。私家车你可以放下来睡觉，那完全是你能支配的，但是像动车这种公共交通，就不应该这么想。不管你怎么做，都不应该给大家造成困扰。而且这种总是觉得用沟通就能解决问题的思想，是应该抛弃的。很多事情，不应该用道德感召来规范行为，只有对错，应不应该，没有好与不好，合不合适。</p>
          <div class="read-more">
            <a href="/2017/07/29/lanzhou/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2017/07/28/xining/">西宁</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Posted by zhgxun 2017-07-28
        </span>
        
          <div class="post-category">
            
              <a href="/categories/travel/">travel</a>
            
          </div>
        
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        
          
        

        
          <h2 id="1、到达"><a href="#1、到达" class="headerlink" title="1、到达"></a>1、到达</h2><p>来西宁的火车上，再一次感受到小孩其实都还是挺讨厌的。坐在我后面的一排可能是一家人，一个五六岁的小男孩总是站在座位上，不时把手伸到我这边，隔不了几分钟就会摸一下我的头，也有可能是故意的。我回头很不礼貌的说，别总把手伸过来行吗！我旁边的旅客也说过好几次类似的话。说实话，面对这种现象，我觉得这个家长算是糟糕透了。我还故意站起来看看这都是一对什么样的父子。看一眼后，我就想，也没再碰到我的头，算了。他们是如此的普通，就跟我一样，火车的整个行程中，没有人会注意到你。如果不是因为你的孩子总是碰到我的头，我甚至不知道你是男是女。</p>
<p>前面有一个小孩，冷不防就是一阵哭闹，还故意提高嗓门，生怕一车人都听不见。说来也奇怪，每次出行，车厢都会有类似的小孩，那个哭声，跟杀猪一样可怕。往往这个时候我看家长都手足无措，可以想见，在他们家里，经常都是撕心裂肺的煎熬。我没有带过孩子，也不喜欢小孩子，对这些公共场合的行为，那种心情，是充满嫌弃极其讨厌的。</p>
<p>大人也从不可爱。半夜时，我旁边的人把腿伸到对面，好像被对面的人故意碰一下，意思是把你的腿伸回去，我没地放脚了。结果旁边的人一下就吼起来，说你碰我干嘛。老头也不甘示弱，是你把脚伸到我这边来了，放回你自己的位置去。折腾了一分钟吧，大家都还算知趣。他就说，好了，是我的问题。</p>
          <div class="read-more">
            <a href="/2017/07/28/xining/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2017/07/26/changji/">12. 昌吉</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Posted by zhgxun 2017-07-26
        </span>
        
          <div class="post-category">
            
              <a href="/categories/travel/">travel</a>
            
          </div>
        
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        
          
        

        
          <h2 id="1、安检"><a href="#1、安检" class="headerlink" title="1、安检"></a>1、安检</h2><p>早上我们来到昨晚吃椒麻鸡这个位置，找到去昌吉的公交车。去昌吉的人还不少，没怎么等车就满了。走出乌市的范围，被通知所有人带着行李要过安检，才能进入昌吉。师傅把我们全部赶下车后，自己先把车开到前面去了。我们一个个排队过安检，只有两个通道。右边的通道只要刷身份证就可以，但是左边还要做人眼识别。我们不幸走了左边的通道，一直等在那里。前面一个女的一直在那里不让通过。等了不止5分钟，坤坤一下走到右边的通道，轻松就过去了。我走了左边，刷了身份证后，人眼识别死活通过不了。旁边的特警就在那里喊，睁大眼睛，不要眨，不要眨……然后问通过了吗，另一个说还是不行，还是通过不了。折腾了好一会才说，好了，下一个。过来坤坤还问我，那个里面是什么？什么也没有，就是一个塑料的眼筒。</p>
          <div class="read-more">
            <a href="/2017/07/26/changji/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2017/07/25/tianchi/">11. 天山天池</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Posted by zhgxun 2017-07-25
        </span>
        
          <div class="post-category">
            
              <a href="/categories/travel/">travel</a>
            
          </div>
        
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        
          
        

        
          <h2 id="1、起点"><a href="#1、起点" class="headerlink" title="1、起点"></a>1、起点</h2><p>早上六点半我就起来冲凉洗漱。在大厅整理昨天的日志，厅里面两只猫老来干扰我，还抓我衣服，赶也赶不走，不是蹭我键盘就是要蹲我桌子上，趴我腿上，太粘人，我不喜欢逗小动物，招架不住就只好回到床上来了。</p>
          <div class="read-more">
            <a href="/2017/07/25/tianchi/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2017/07/24/day/">10. 日复一日</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Posted by zhgxun 2017-07-24
        </span>
        
          <div class="post-category">
            
              <a href="/categories/travel/">travel</a>
            
          </div>
        
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        
          
        

        
          <h2 id="1、搬家"><a href="#1、搬家" class="headerlink" title="1、搬家"></a>1、搬家</h2><p>在汉庭退房时，把房卡还回去就行了。我还奇怪的问道，不看吗？她很客气的说不看了，我说了声谢谢，就离开酒店。在别的地方，都是前台阿姨拿起对讲机大喊大叫，315退房，315退房……等几分钟后，才告诉你说好了。</p>
<p>上午11点不到，我就从汉庭酒店搬家到红山公园下的麦田青旅。住的是八人间，没有卫生间。来的时候已经住了人，有一部分已经收拾好背包，似乎是要离开了。看背包的装扮，极有可能是来新疆徒步的驴友。有一些还是不同肤色的人，有可能是外国友人。</p>
<p>我拿着床单被罩，把洗漱和衣服放下后，去了下洗手间。第一感觉是乌市的青旅条件还是要比之前去过的南京差一些。不过这里的青旅显得更热闹。从进门开始，基本墙上都是各种涂鸦，谁谁某年来过这里，有一些还画了自己走过的地图，比如环华第75天。简单看了，有很多还自称是妹子，走过了哪些地方，康定……乌鲁木齐，给我一种崇敬的感觉。有些比较普通，很像我，北京-天津-河北-新疆-广东深圳香港澳门-台湾。有的就比较可怕，河南-深圳-广州-拉萨-那曲-唐古拉-格尔木-西宁-兰州-敦煌-哈密-吐鲁番-乌鲁木齐……我都看不下去了，这是跟中国有仇，不踏遍千山万水，就心有不甘，觉得自己这辈子就活得没意义。我就是想想而已，从来没有真的背起背包，去走遍哪怕只是大西北。</p>
          <div class="read-more">
            <a href="/2017/07/24/day/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2017/07/23/wushi/">乌市</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Posted by zhgxun 2017-07-23
        </span>
        
          <div class="post-category">
            
              <a href="/categories/travel/">travel</a>
            
          </div>
        
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        
          
        

        
          <p>此刻，乌市。</p>
<p>记忆中，重庆到乌鲁木齐需要将近50个小时，就一直没计划这段行程。一个月前，突然看到从北京来乌鲁木齐只要32个小时不到，比我回家还近，我回家火车上的路程就要34个小时多。而且时间刚刚好，从北京西上午10点走，第二天下午18点不到就到乌市了。我调休的假期也够，然后就联系了坤坤，定下了来乌市的时间。</p>
          <div class="read-more">
            <a href="/2017/07/23/wushi/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2017/07/19/go-database/">8. Go database/sql 教程</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Posted by zhgxun 2017-07-19
        </span>
        
          <div class="post-category">
            
              <a href="/categories/go/">go</a>
            
          </div>
        
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        
          
        

        
          <p>说明：内容来源于<a href="http://go-database-sql.org/index.html" target="_blank" rel="external">Go database/sql tutorial</a>，通过谷歌翻译完成。文档翻译成中文后，很多意思会被语言本身造成误解，请查看英文原文。</p>
<p>在Go中使用SQL或类SQL数据库的惯用方法是通过 database/sql 包。 它为面向行的数据库提供了轻量级的接口。 这个网站对最常见的方面如何使用提供一个参考。</p>
<p>为什么需要这样？软件包的文档告诉你所有操作，但它并没有告诉你如何使用这个软件包。我们中的许多人发现自己希望能够快速参考和“入门”的方式来讲述故事而不是列举事实。欢迎贡献，请在<a href="https://github.com/VividCortex/go-database-sql-tutorial" target="_blank" rel="external">这里</a>提交请求。</p>
          <div class="read-more">
            <a href="/2017/07/19/go-database/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2017/07/14/curl-timeout/">7. PHP扩展cURL执行中途无响应</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Posted by zhgxun 2017-07-14
        </span>
        
          <div class="post-category">
            
              <a href="/categories/php/">php</a>
            
          </div>
        
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        
          
        

        
          <p>今天跑脚本遇到一个奇怪的问题，就是cURL请求到后期会出现程序阻塞卡死，无异常无响应，一直挂起，脚本也不会自动结束。跟对方沟通后说，“哥们儿，是不是你们的程序有问题啊，这边研发排查了，说12点30左右没有收到你们的请求。然后我自己用网上的json工具请求了，一下就通过了”。是不是很尴尬，关键是根本不知道为什么。然后就是不停的尝试重跑脚本，偶尔有些脚本就跑过了，但好景不长，随时都可能出现无效的时候。一直看，请求一开始都是能正常完成的，越往后执行时间也变得逐渐增长，然后就可能变成死连接。就想到，肯定是cURL发送的请求有的无响应失效了，已经成僵尸连接，还一直阻塞脚本，导致资源一直存在，但是并不能继续使用。</p>
          <div class="read-more">
            <a href="/2017/07/14/curl-timeout/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </div>

    

    

  </article>

    
  </section>

  
  <nav class="pagination">
    
    
      <a class="next" href="/page/2/">
        <span class="next-text">下一页</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>


          </div>
          

        </div>  
      </main>

      <footer id="footer" class="footer">

  <div class="social-links">
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
    
    
  </div>


<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://hexo.io/">Hexo</a> 强力驱动
  </span>
  
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">
    
    &copy; 
    
    2017

    <span class="author">to <a href="https://github.com/zhgxun" target="_blank">zhgxun</a></span>
  </span>
</div>
      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    


    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  

  


    <script type="text/javascript" src="/js/src/even.js?v=2.5.0"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=2.5.0"></script>

  </body>
</html>
